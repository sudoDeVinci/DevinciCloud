So i have this script to define my schema for my db:

import mysql.connector as mysql
from src.config import debug



def apply(mydb:mysql.MySQLConnection):
    myCursor = mydb.cursor()
    # Create the cook book database 
    myCursor.execute("CREATE DATABASE IF NOT EXISTS weather")

    # Select the database
    myCursor.execute("USE weather")

    # Create the named device table
    myCursor.execute("""
        CREATE TABLE IF NOT EXISTS Devices(
            MAC VARCHAR(25) PRIMARY KEY,
            name VARCHAR(20) NOT NULL,
            device_model VARCHAR(10) NOT NULL,
            camera_model VARCHAR(10) NOT NULL,
            altitude FLOAT(10) NOT NULL,
            latitude FLOAT(10) NOT NULL,
            longitude FLOAT(10) NOT NULL
        );
    """)

    # Create readings table
    myCursor.execute("""
    CREATE TABLE IF NOT EXISTS Readings(
        timestamp DATETIME,
        MAC VARCHAR(25),
        temperature FLOAT(10),
        relative_humidity FLOAT(10),
        pressure FLOAT(10),
        dewpoint FLOAT(10),
        filepath VARCHAR(100),
        PRIMARY KEY (MAC, timestamp),
        FOREIGN KEY (MAC) REFERENCES Devices(MAC)
    );
""")
                    
    # Create status table
    myCursor.execute("""
        CREATE TABLE IF NOT EXISTS Status(
            MAC VARCHAR(25),
            SHT BOOLEAN NOT NULL,
            BMP BOOLEAN NOT NULL,
            CAM BOOLEAN NOT NULL,
            WIFI BOOLEAN NOT NULL,
            timestamp DATETIME NOT NULL,
            FOREIGN KEY (MAC) REFERENCES Devices(MAC)
        );
    """)

    myCursor.execute("""
        CREATE TABLE IF NOT EXISTS Locations(
            country VARCHAR(30),
            region VARCHAR(30),
            city VARCHAR(30),
            latitude FLOAT(10) NOT NULL,
            longitude FLOAT(10) NOT NULL,
            PRIMARY KEY (latitude, longitude)
        );
    """)

    myCursor.execute("""
        CREATE TABLE IF NOT EXISTS Users(
            ID VARCHAR(64) PRIMARY KEY,
            name VARCHAR(100) NOT NULL,
            email VARCHAR(255) NOT NULL,
            password VARCHAR(300) NOT NULL,
            role VARCHAR(30) NOT NULL
        );
    """)


    # Commit
    mydb.commit()


and I use a function like this to update my Services :

def update(MAC:str, timestamp:str, sht:bool, bmp:bool, cam:bool, wifi:bool = True) -> None:
        conn = Manager.get_conn()
        if not cursor:
            debug("No database connection.")
            return None
        update_string = "UPDATE Status SET SHT=%s, BMP=%s, CAM=%s, WIFI=%s, timestamp=%s WHERE MAC=%s;"

        try:
            cursor = conn.cursor()
            cursor.execute(
                update_string, (sht, bmp, cam, wifi, timestamp, MAC)
            )

            conn.commit()
        
        except mysql.Error as e:
            debug(f"Couldn't update sensor status record -> {e}")

        finally:
            if cursor: cursor.close()


but when I run it, I get:

"Couldn't insert sensor status record -> 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (`weather`.`Status`, CONSTRAINT `Status_ibfk_1` FOREIGN KEY (`MAC`) REFERENCES `Devices` (`MAC`))"